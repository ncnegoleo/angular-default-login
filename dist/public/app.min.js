!function(){"use strict";function a(a,b,c,d){a.when("/",{controller:"HomeController",templateUrl:"home/home.html",controllerAs:"vm"}).when("/register",{controller:"RegisterController",templateUrl:"register/register.html",controllerAs:"vm"}).when("/login",{controller:"LoginController",templateUrl:"login/login.html",controllerAs:"vm"}).otherwise({redirectTo:"/login"}),c.idle(600),c.timeout(30),d.interval(300)}function b(a,b,c,d,e,f,g){function h(){a.warningModal&&(a.warningModal.close(),a.warningModal=null)}a.globals=c.getObject("globals")||{},a.globals.currentUser&&(d.defaults.headers.common.Authorization="Basic "+a.globals.currentUser.authdata),a.$on("$locationChangeStart",function(c,d,e){var f=-1===$.inArray(b.path(),["/login","/register"]),g=a.globals.currentUser;f&&!g?b.path("/login"):"/login"!=b.path()&&"/register"!=b.path()||!g||b.path("/")}),a.$on("IdleTimeout",function(){h(),g.unwatch(),f.clearCredentials(),a.$apply(function(){b.path("/login")})}),a.$on("IdleStart",function(){h(),a.warningModal=e.open({templateUrl:"warning-dialog.html",windowClass:"app-modal-window"})}),a.$on("IdleEnd",function(){h()})}angular.module("app",["ngRoute","ngCookies","ngIdle","ui.bootstrap"]).config(a).run(b),a.$inject=["$routeProvider","$locationProvider","IdleProvider","KeepaliveProvider"],b.$inject=["$rootScope","$location","$cookies","$http","$uibModal","AuthenticationService","Idle"]}();